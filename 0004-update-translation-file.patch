From f0f0c097544cfc115015053525c8c3e9a68a6b15 Mon Sep 17 00:00:00 2001
From: peijiankang <peijiankang@kylinos.cn>
Date: Mon, 27 Jun 2022 17:07:15 +0800
Subject: [PATCH] update translation file

---
 debian/changelog                              |  6 +++++
 src/citycollectionwidget.cpp                  |  6 ++---
 src/citycollectionwidget.ui                   |  2 +-
 translations/indicator-china-weather_bo.ts    | 22 +++++++++++++++++--
 translations/indicator-china-weather_zh_CN.ts | 22 +++++++++++++++++--
 5 files changed, 50 insertions(+), 8 deletions(-)

diff --git a/debian/changelog b/debian/changelog
index 7838b0a..7b4b0f7 100644
--- a/debian/changelog
+++ b/debian/changelog
@@ -1,3 +1,9 @@
+indicator-china-weather (3.1.0-37) v101; urgency=medium
+
+  * 解决了BUG#30685 程序没有IP定位功能
+
+ -- shixiaoshuo <shixiaoshuo@kylinos.cn>  Fri,8  Jan 2021 10:33:00 +0800
+
 indicator-china-weather (3.1.0-36) v101; urgency=medium
 
   * 修复了一处因为gsetting文件初始化问题引起的严重BUG
diff --git a/src/citycollectionwidget.cpp b/src/citycollectionwidget.cpp
index 21773d4..335d3c9 100644
--- a/src/citycollectionwidget.cpp
+++ b/src/citycollectionwidget.cpp
@@ -81,8 +81,8 @@ CityCollectionWidget::CityCollectionWidget(QWidget *parent) :
     ui->btnCancel->setFocusPolicy(Qt::NoFocus);
     ui->lbLeftUpTitle->setText(tr("Kylin Weather"));
     ui->lbLeftUpTitle->setFixedWidth(100);
-    ui->lbCityCollect->setText("收藏城市");
-    ui->lbCityCurrent->setText("当前城市");
+    ui->lbCityCollect->setText(tr("Collections"));  //收藏城市
+    ui->lbCityCurrent->setText((tr("Local"));       //当前城市
 
     ui->lbCityCount->setText("0/8");
     m_citynumber = 0;
@@ -97,7 +97,7 @@ CityCollectionWidget::CityCollectionWidget(QWidget *parent) :
     m_tipLabel->setWordWrap(true);
     m_tipLabel->setAlignment(Qt::AlignCenter);
     m_tipLabel->setSizePolicy(QSizePolicy::Fixed, QSizePolicy::Preferred);
-    m_tipLabel->setText("当前网络异常，请检查网络设置");//Current Network Exception, Please Check Network Settings
+    m_tipLabel->setText(tr("Current Network Exception, Please Check Network Settings"));//当前网络异常，请检查网络设置
     m_tipLabel->move(0, 300);
     m_tipLabel->hide();
 
diff --git a/src/citycollectionwidget.ui b/src/citycollectionwidget.ui
index 6f98797..5b25158 100644
--- a/src/citycollectionwidget.ui
+++ b/src/citycollectionwidget.ui
@@ -70,7 +70,7 @@
     <rect>
      <x>45</x>
      <y>223</y>
-     <width>72</width>
+     <width>101</width>
      <height>19</height>
     </rect>
    </property>
diff --git a/translations/indicator-china-weather_bo.ts b/translations/indicator-china-weather_bo.ts
index fafdf61..da5ae2c 100644
--- a/translations/indicator-china-weather_bo.ts
+++ b/translations/indicator-china-weather_bo.ts
@@ -17,6 +17,21 @@
         <source>Kylin Weather</source>
         <translation type="unfinished"></translation>
     </message>
+    <message>
+        <location filename="../src/citycollectionwidget.cpp" line="84"/>
+        <source>Collections</source>
+        <translation type="unfinished"></translation>
+    </message>
+    <message>
+        <location filename="../src/citycollectionwidget.cpp" line="85"/>
+        <source>Local</source>
+        <translation type="unfinished"></translation>
+    </message>
+    <message>
+        <location filename="../src/citycollectionwidget.cpp" line="100"/>
+        <source>Current Network Exception, Please Check Network Settings</source>
+        <translation type="unfinished"></translation>
+    </message>
 </context>
 <context>
     <name>LeftUpSearchBox</name>
@@ -31,7 +46,7 @@
     <message>
         <location filename="../src/mainwindow.cpp" line="44"/>
         <location filename="../src/mainwindow.cpp" line="95"/>
-        <location filename="../src/mainwindow.cpp" line="405"/>
+        <location filename="../src/mainwindow.cpp" line="409"/>
         <source>Kylin Weather</source>
         <translation type="unfinished"></translation>
     </message>
@@ -133,16 +148,19 @@
     </message>
     <message>
         <location filename="../src/menumodule.cpp" line="24"/>
-        <source>Help</source>
+        <location filename="../src/menumodule.cpp" line="106"/>
+	<source>Help</source>
         <translation type="unfinished"></translation>
     </message>
     <message>
         <location filename="../src/menumodule.cpp" line="26"/>
+	<location filename="../src/menumodule.cpp" line="104"/>
         <source>About</source>
         <translation type="unfinished"></translation>
     </message>
     <message>
         <location filename="../src/menumodule.cpp" line="28"/>
+	<location filename="../src/menumodule.cpp" line="102"/>
         <source>Quit</source>
         <translation type="unfinished"></translation>
     </message>
diff --git a/translations/indicator-china-weather_zh_CN.ts b/translations/indicator-china-weather_zh_CN.ts
index 32aac9b..e656456 100644
--- a/translations/indicator-china-weather_zh_CN.ts
+++ b/translations/indicator-china-weather_zh_CN.ts
@@ -17,6 +17,21 @@
         <source>Kylin Weather</source>
         <translation>麒麟天气</translation>
     </message>
+    <message>
+        <location filename="../src/citycollectionwidget.cpp" line="84"/>
+        <source>Collections</source>
+        <translation>收藏城市</translation>
+    </message>
+        <message>
+        <location filename="../src/citycollectionwidget.cpp" line="85"/>
+        <source>Local</source>
+        <translation>当前城市</translation>
+    </message>
+    <message>
+        <location filename="../src/citycollectionwidget.cpp" line="100"/>
+        <source>Current Network Exception, Please Check Network Settings</source>
+        <translation>当前网络异常，请检查网络设置</translation>
+    </message>
 </context>
 <context>
     <name>LeftUpSearchBox</name>
@@ -31,7 +46,7 @@
     <message>
         <location filename="../src/mainwindow.cpp" line="44"/>
         <location filename="../src/mainwindow.cpp" line="95"/>
-        <location filename="../src/mainwindow.cpp" line="405"/>
+        <location filename="../src/mainwindow.cpp" line="409"/>
         <source>Kylin Weather</source>
         <translation>麒麟天气</translation>
     </message>
@@ -137,16 +152,19 @@
     </message>
     <message>
         <location filename="../src/menumodule.cpp" line="24"/>
-        <source>Help</source>
+        <location filename="../src/menumodule.cpp" line="106"/>
+	<source>Help</source>
         <translation>帮助</translation>
     </message>
     <message>
         <location filename="../src/menumodule.cpp" line="26"/>
+	<location filename="../src/menumodule.cpp" line="104"/>
         <source>About</source>
         <translation>关于</translation>
     </message>
     <message>
         <location filename="../src/menumodule.cpp" line="28"/>
+	<location filename="../src/menumodule.cpp" line="102"/>
         <source>Quit</source>
         <translation>退出</translation>
     </message>
-- 
2.33.0

